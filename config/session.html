<!DOCTYPE html><html lang="en"><head><title>config/session</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="config/session"><meta name="groc-project-path" content="config/session.js"><meta name="groc-github-url" content="https://github.com/natgeo/activitystreams"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/natgeo/activitystreams/blob/master/config/session.js">config/session.js</a></div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>Session</p>

<p>Sails session integration leans heavily on the great work already done by Express, but also unifies 
Socket.io with the Connect session store. It uses Connect's cookie parser to normalize configuration
differences between Express and Socket.io and hooks into Sails' middleware interpreter to allow you
to access and auto-save to <code>req.session</code> with Socket.io the same way you would with Express.</p>

<p>For more information on configuring the session, check out:
http://sailsjs.org/#documentation</p></div></div><div class="code"><div class="wrapper"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">session</span> <span class="o">=</span> <span class="p">{</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Session secret is automatically generated when your new app is created
Replace at your own risk in production-- you will invalidate the cookies of your users,
forcing them to log in again. 
secret: '',</p></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>In production, uncomment the following lines to set up a shared redis session store
that can be shared across multiple Sails.js servers</p></div></div><div class="code"><div class="wrapper">  <span class="nx">adapter</span><span class="o">:</span> <span class="s1">&#39;redis&#39;</span><span class="p">,</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>The following values are optional, if no options are set a redis instance running
on localhost is expected.
Read more about options at: https://github.com/visionmedia/connect-redis
host: 'localhost',
port: 6379,
ttl: <redis session TTL in seconds>,
db: 0,
pass: <redis auth password>
prefix: 'sess:'</p></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Uncomment the following lines to use your Mongo adapter as a session store
adapter: 'mongo',
host: 'localhost',
port: 27017,
db: 'sails',
collection: 'sessions',
Optional Values:</p>

<h1 id="note-url-will-override-other-connection-settings">Note: url will override other connection settings</h1>

<p>url: 'mongodb://user:pass@host:port/database/collection',
username: '',
password: '',
auto_reconnect: false,
ssl: false,
stringify: true</p></div></div><div class="code"><div class="wrapper"><span class="p">};</span></div></div></div></div></body></html>